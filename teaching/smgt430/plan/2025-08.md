
# SMGT 430: Introduction to Sport Analytics

## 2024-08-26

1:00-1:15 Last Name Dice Game Exercise
- not sure how long this will take
- Everyone plays round-robin, then 4-person playoff
- Ask students to guess the winner of each matchup

1:15-1:35 Discussion Questions
- How would you have chosen the winner if we didn't see the last names?
- How would this game have been different if we used 6-sided dice?
- How would this game have been different if we used 20-sided dice?
- How is this game different from soccer?
- How is this game similar to soccer?
- What do the dice represent?
- What do your last names represent?

Final thoughts:
- Fundamentally, sport analytics is about understanding how games work
- For the Last Name Dice Game, this is very easy, and for other sports its harder
- But fundamentally what we do for other sports is the same

1:35-1:40 introduce the four units and assign students to tables

1:40-1:50 give students a chance to meet their tables

1:50-2:05 Think/Pair/Share The SCORE Network (scorenetwork.org)
- 1:50-1:55 Ask students to find what they think is the most interesting dataset
- 1:55-2:00 Ask students to discuss at their tables
- 2:00-2:05 Larger group discussion
  - Ask each student to find what they think is the most interesting dataset
  - What could you do with these data?
  - What other cool datasets are you aware of?

2:05-2:10 run through the syllabus

2:10-2:15 students complete survey

Reflections
- Last Name Dice Game is a great way to kick off the class

Subjective Rating 4/5


## 2025-08-28

Notes

- No class Sep 18
- Ground rules for R days:
  - Save a copy to your drive
  - Runtime -> Change Runtime Type -> R
  - How to upload data
  - I think there's a natural tendency to think that if you're struggling or confused, it's your fault, and that can make it more difficult to ask questions. I encourage you to raise your hand a lot when you feel lost. Right now is the opportunity for me to provide that instruction to you.

1:00-2:10 Introduction to R Tutorial

2:10-2:15 Students complete exit tickets (3141)

Reflections
- We didn't get a lot of questions, but we got some
- The energy in the room felt good (students talking to each other)

Subjective Rating 4/5

Student Interest      3.80/5
Student Understanding 4.20/5


## 2025-09-02

Questions from last time
- What is the advantage of learning R instead of Python or other languages
- Are we always going to be using Colab or will we be using Rstudio, jupyter or any other programs?
- Need to get used to doing R in Colab, used to doing it in RStudio
- I'd love to learn more about various packages that are commonly used in Sport Analytics that I'm likely not aware of
- Get some problems about for loop, logic is kind of different with Python, little bit confusing on it. 
- I felt like I had a good grasp on much of the baseline R material (i.e. sections 1 and 2) but found the dplyr and ggplot sections to be much more challenging, mainly because I am simply more inexperienced with those packages.

1:00-1:10 Review leftover questions from last time

1:10-1:15 introduce pythagorean formula, invite questions

1:15-1:30 discussion part 1 (think/pair/share 1/5/9)
- Find an appropriate website to answer the following questions, using Pythagorean exponent alpha = 2:
  a. Which NFL team had the best Pythagorean record last year?
  b. Which NFL team had the worst Pythagorean record last year?
  c. Which NFL team most over-performed their Pythagorean record last year?
  d. Which NFL team most under-performed their Pythagorean record last year?

1:30-1:45 lecture on optimization of alpha (grid search)

1:45-2:00 discussion part 2 (think/pair/share 1/5/9)
1. Why is the Pythagorean formula important?
2. What properties of a sport would cause the Pythagorean exponent alpha to be bigger or smaller?
3. In what sports do you think the Pythagorean formula works well? In what sports do you think the Pythagorean formula doesn't work as well? Why?

2:00-2:10 preview R tutorial

2:10-2:15 Exit ticket (8586)

Reflections
- The discussion heavy format was really good

Subjective Rating 5/5

Student Interest        4.62/5
Student Understanding   4.19/5


## 2025-09-04

Miller (2007) "A Derivation of the Pythagorean Won-Loss Formula in Baseball"

Questions from last time:
- So just to confirm, a high alpha means there is a high correlation between Actual Winning Percentage and Pythagorean Winning Percentage? So we would want alpha to be high?
- I still feel a little unclear on where exactly alpha comes from and what constitutes a high vs. a low alpha. I know that it has to do with the amount of points scored and/or the amount of random chance in a game, but it still feels a little nuanced to me.
- I still don't understand why a sport like soccer would have a higher alpha as compared to a sport like basketball. Like I understand that as Œ± tends to infinity, the Pythagorean winning percentage converges to 100% for any positive score differential (and 0% for any negative score differential). But how does the magnitude of the score differential affect the value of Œ±?
- In general, why would we not prefer sports with higher alpha values when using pythag win probability? Doesn't that imply we put more emphasis on score differential? Or is the randomness in sports like soccer too great to get consistent results?
- Also when we do a grid search, how do we determine a good range for the alphas?¬†"

1:00-1:10 Review leftover questions from last time

1:10-2:00 Pythagorean formula R tutorial

2:00-2:10 Discuss what we learned

2:10-2:15 Exit ticket (2186)

Reflections
- It seems like most students were still working on Exercise #3 when class ended
- I'm worried that this R tutorial is not well-written
- I REALLY need to re-work this R tutorial to simplify it

Subjective Rating 3/5

Student Interest      4.33/5
Student Understanding 3.38/5

## 2025-09-09

1:00-1:15 Discuss questions from last time:
- DISCUSS THE RESULT OF THE R TUTORIAL!
- I would have liked more discussion on how managers of teams potentially use the Pythagorean formula (or don't).
  - How does the pythagorean formula (often used in a team setting) relate to specific player evaluation? Is there a way we use this information for direct player evaluation as opposed to overall team evaluation?
- What is the least squares problem you were talking about?
- At what point does Pythagorean Win% stabilize? Would an MLB team feel confident about the accuracy of its Pythagorean Win% by the end of May? By the end of June? By the trade deadline?

1:15-1:30 Discussion 1
1. Look for a website to answer the question: Which NFL team had the toughest strength of schedule last year? What method was used to come up with an answer?
2. When might we prefer to use win-loss outcome in the Bradley-Terry model instead of score differential?
3. In sports, team strength is not static but changes over time. How might the Bradley-Terry model be modified to account for evolving team performance across a season?

1:30-1:45 Open up to questions about the Bradley-Terry model
- Write the equations on the board, and then open to questions

1:45-2:00 Table Exercises
1. Why do we need to force $\beta_1 = 0$ in the Bradley-Terry model?
2. Suppose we estimate the Bradley-Terry model and find $\hat\beta_2 > 0$. What does this tell us about team 2?
3. Suppose we estimate the win-loss outcome model and find $\hat\beta_0 = 0.5$; $\hat\beta_2 = 1$; and $\hat\beta_p = 0.75$. What is the estimated probability that team $p$ beats team 2 at home?

2:00-2:10 Preview R tutorial

2:10-2:15 Exit ticket (9955)

Reflections

Subjective Rating 4/5

Reflections
- It would be better to walk through the lecture notes and incentivize questions by awarding points to tables

Student Interest        4.71/5
Student Understanding   3.71/5

## 2025-09-11

Noteworthy comments from last class:

- I feel like I need more clarification on what each coefficient represents in terms of a sports context, maybe some more examples would be helpful for me.¬†
- In the last example, we discussed the meaning of Beta for win-loss. Is these Beta have different meaning in context of win-loss and score difference? For score diff, can we say that beta1 = 0, Beta2 = 2, means team2 will win 2 more points than team1?¬†
- the concept of log odds is confusing
- With a reference team being considered, how to leagues use the bradley terry model?¬† Do they run it 32 times with each team as a reference team and average the results

- How were the team Betas initially found? I know that it is compared against a reference team (Beta_0) and using training data. But how do we calculate the Betas that are used in the calculations? Is the score differential used here or later?
- How do we quantify home-field advantage with regard to probability? I understand that the beta values relate to log-likelihoods, but what actually leads us to get a value such as B0 = 0.5?
- How do you calculate the value of B0(home-field advantage)? Is that derived from another model or is that a given?
- Just curious as to the process/calculations of finding the beta coefficients
- Derivation of the formulae

- I'm still confused on when to use the normal distribution in the score differential model and when we decide it isn't a good choice

- Are there any special Bradley-Terry considerations for computing errors (or interpreting them) on the Betas? Or can you just do standard logistic regression error calculations?
- Sort of a side question, but Im wondering if & how the model accounts for special types of home court advantage. For example, Denver and Utah is known to have even greater home court advantage due to the elevation. Is the model able to account for this? And if so how?
- My biggest remaining question is what is the math behind model identifiability? Is it purely about the ability to add coefficients to betas or is there something greater.

- The material was pretty dense for me. I think understanding a lot of terminology itself would be helpful. For example, I remember learning about these distributions last year but I didn't fully remember them until you explained it and how our numbers fit into these distributions.¬†
- I felt like I understood our discussions fairly well, but I had a hard time grasping what everything meant in the large matrices on the reading. Could we maybe go over the matrix form and how it reads?

1:00-1:10 Review leftover questions from last time

1:10-2:00 Bradley-Terry R tutorial

2:00-2:10 Discuss what we learned

2:10-2:15 Exit ticket (6568)

Reflections
- The review at the beginning lasted 20 minutes, but that was fine
  - I screen-shared the questions from the exit ticket, and I think this worked well
- I forgot to copy over the updated solutions Colab notebook into the exercises Colab notebook
  - The students didn't really notice
- This R tutorial is super easy, but the students like that. I should make the Pythag tutorial easier

Subjective Rating 3/5

Student Interest        4.60/5
Student Understanding   4.20/5

## 2025-09-16

- I would still like to know more about choosing a reference team, if there is any criteria that goes into it. If teams were to use the Bradley Terry model, how would they choose that reference team?¬†

- I did feel like the matrix values were still a bit confusing to me. I may have missed when you said what rows hold what values but I was also confused about how those are used to calculate the other values. Maybe it would be helpful to see it quickly worked out on the board again.

- Can the Bradley-Terry model be effectively used in individual sports like tennis, boxing, or mixed martial arts, where there is also no "homecourt" advantage?

1:00-1:15 Review exit ticket questions

1:15 REMIND STUDENTS NO CLASS THIS THURSDAY

1:15-1:30 Discussion 1
- What are strengths and weaknesses of using Adjusted Plus-Minus for player evaluation?
- What is the difference between the Adjusted Plus-Minus model and the Bradley-Terry model?
  - Which is it: Is the Adjusted Plus-Minus model a special case of the Bradley-Terry model? Or is the Bradley-Terry model a special case of the Adjusted Plus-Minus model?
- What are some sports for which the Adjusted Plus-Minus model would be particularly useful? What are some sports for which it would not be very useful?

1:30-1:45 Question game (plus-minus models lecture)

1:45-2:00 Discussion 2
- What is the difference between the Rasch model and the Bradley-Terry model?
- Think of an outcome in sports for which it would be appropriate to use a Rasch model. What is the sport? What is the outcome? Who are the actors who influence the outcome?

2:00-2:10 Discuss homework assignment
- Do you want us to put our student ID no.s on the assignment? Or just no sign of identification at all? If so, how do you know whose assignment is whose when submitting a grade on canvas?

2:10-2:15 Exit ticket (3562)

Reflections
- I brought good energy today

Subjective Rating 5/5

Student Interest      4.65/5
Student Understanding 4.1/5


## 2025-09-23

1:00-1:05 Clarify homework anonymity, announce Rahul's office hours
- Do you want us to put our student ID no.s on the assignment? Or just no sign of identification at all? If so, how do you know whose assignment is whose when submitting a grade on canvas?
- Rahul's office hours: 3:30 to 4:30 on Wednesday in Martel commons

1:05-1:10 Discuss pressing questions from last exit ticket
- I‚Äôm still a bit confused on the differences between the Rasch Model and the regular Adjusted Box Plus-Minus? When should you use the Rasch Model instead and what are its benefits?
- Just want to confirm that the Rasch model reference teams for offense and defense don't have to be the same team, ie, the offensive reference team is the Atlanta Hawks, the defensive reference team is the Boston Celtics.
- Can you explain why the x^2 on the denominator of the plus-minus equation is necessary? If x is -1 or 1, that term just becomes 1. If x is 0, that term becomes 0, but there is already an x term on the numerator, which means your numerator is 0 and therefore the 0 in the denominator seems unnecessary.¬†

1:10-2:10 R tutorial on plus-minus models

2:10-2:15 Exit ticket (5107)

Reflections
- I got students to open up by asking them to show me their solutions for earlier exercises

Subjective Rating 5/5

Student Interest      4.47/5
Student Understanding 3.89/5

## 2025-09-25

1:00-1:15 Review questions from last two exit tickets

- On publications like ESPN, there are other types of APM. Real, Optimized, Regularized... what are all the differences with these?
- I would like more information how models with stints adjust for the strategy of stint deployments, or if they do at all. Such as if there is an effect for the timing of a stint in a game, especially if the opposition stint has gone longer than expected, leaving them fatigued.
- Is there a way to adjust for a player being down a man in hockey (power play) or soccer (red card). I.e, is there a way to adjust for the fact the team is at a disadvantage for having less people?

- If you can't put if statements in the pipe, how do you alter the functions? (In question #2)
- How do you combine piping a dataframe with if statements/for loops?

- I didn't get to fitting the Rasch model in class, could you quickly give a run down of that code?¬†

- I'm a little bit stuck on the reference for the rasch model, why the low sample player automatically become the reference player? Is just simply because their id = 0
- Why did we opt to change the names and ids of low sample players instead of just cutting them from the data? Would it decrease our sample size too much or is there another reason to keep them there.¬†
- can you explain what the benefit was to assigning the reference coefficient to the aggregate of the low sample players? Is this just because the low sample players might be seen as more "average"?

- How does data cleaning/wrangling work? How can we learn more about this?
- What are the top 10 things you would say we would use a lot of: groupby, sort, mutate, etc.

1:15-1:30 Free throw exercise to introduce RTTM
- population mean: 80%, population sd: 5%
- pass out true free throw percentages
  - explain that students must keep their numbers secret
- simulate 30 free throws
- identify the winner
- assign new tables

1:30-1:40 Each table has to come up with a guess
  - explain that students are now allowed to share their numbers

1:40-1:45 Discussion
- Ask high table and low table to explain their thought process
- How did you use the information on the slips of paper at your table?
  - How might you have used the information?

1:45-2:05 Regression to the mean introduction
- draw population bell curve on the board
  - population mean: 80%
  - population sd: 5%
- draw likelihood bell curve centered at 80% and centered at observed value
  - calculate the relative posterior likelihood of each
- Performance = Talent + Luck
  - Regression to the mean: (n * (Observed Performance) + c * (Population Mean)) / (n + c)
  - c = noise variance / population variance
- predict the number on the winner's card

2:05-2:15 Course Eval #1 (7495)

Reflections
- I need to remind the winner that they must not reveal their number until I say so!
- Everything else about this class was excellent (my favorite of the semester)

Subjective Rating 5/5

Course Eval #1
Conceptual Discussions 4.40/5
R Tutorials            4.15/5
Assignment #1          4.30/5
Assignment #1 hours:   8.2 +/- 2.9

- Needs to be addressed
  - "The pace of the R knowledge I am expected to gain gives me a lot of stress."

- Late notice about office hours
  - "I feel like more advance notice for office hours from the TAs for assignments going forward would be very beneficial to me."
  - "One issue I had with the class so far was the late-ish notice on when and where office hours would be for Assignment 1."

- Google Colab
  - "One small nitpick would be that I don't like coding in Colab."
  - "I also really wish that we could use RStudio as I find it to be so much more user friendly than colab"

- R Tutorials
  - "I think the R coding sessions could be improved. Maybe a short discussion at the beginning of classes about the key functions that the coding assignment will use."
  - "I think doing a quick overview on the previous class' R tutorial would be helpful, as I usually don't finish it in class. That way we can go through each problem quickly and just talk about the basic strategy for how to complete the problem."
  - "My only feedback so far would be about the R tutorials. I think they have been a little long and not always easy to finish during the class period. While I know we are encouraged to finish these on our own time away from the classroom, sometimes that simply is not feasible because of other commitments. I know I can and should take the initiative to finish each and every one away from class, and I take full responsibility for that. However, I wonder if it would be possible to slightly shorten the in-class tutorials (not a great option because everything in them is so valuable, it's hard to cut anything from them) OR provide a tutorial solutions guide a few days after class, so that anyone who didn't finish the tutorial can still be guided in the right direction for the assignments."
  - "I think sometimes I've felt like I don't have enough time to get through some important parts of the R tutorials. This could also just be me needing to get more efficient with my coding but it feels like I'm sometimes missing out on using class time to discuss the more challenging parts of the concepts covered in class."
  - "I think the main thing that could be improved is providing more structure/guidance on the R tutorials. It's helpful to have you and the TA's answer our questions, but most of the times I've noticed that I only get through around half of the R tutorial during class. I don't have the most coding experience so I'm not surprised by that, but maybe providing some links to different functions/references we can use for the problems would be helpful. I find that I spend a decent amount of my time looking up functions that do certain tasks since I'm not as familiar with R, so providing a reference list of useful functions would be helpful."
  - "I wish for the code application pieces there was a bit more advice on not just doing things, but doing things in an optimal manner. I have yet to be able to experience that at Rice for R, and understanding a bit of not just finding the right answer, but the best answer would be nice."
  - "This has come up, but some of the R-tutorials could be phrased/structured a little better. For the most part, the tutorials are helpful in allowing us to apply certain models, but I think once we get to the nuances of each concept it's a little more abstract."
  - "I don't particularly enjoy the R tutorials and homework because I feel as though I am not the strongest coder. So I tend to forget some of the things we have learned in previous tutorials or that I have learned in previous statistics classes. As a result, I find the tutorials and homeworks pretty challenging."

- Math
  - "While I like the split between discussion days and coding days, I almost feel like there should be a third day: math day. The class sees very little in terms of derivations, and the lecture notes themselves often waive derivations away with statements like 'you can learn about this in STAT 425.' I've always thought that working through the math was useful for building intuition. And sure, I could do work through the math on my own, but it'd be nice to see it integrated into the class."
  - "I also don't know if my classmates would agree, but I like diving a bit into the theoretical underpinnings a bit so things feel less arbitrary. So far, I think the underpinning you provide has been sufficient for the topics discussed, but once we hit more advanced topics a little more of the math on why would be nice."
  - "It can be a little challenging keeping up with the mathematical concepts behind a lot of these models, so if we spent a little longer explaining the math parts of them that would be good."

- Course Structure
  - "I think it would be beneficial to have other smaller opportunities to earn grades besides the three assignments and final project."
  - "I'm also not entirely convinced that dedicating 30-40% of class time to 'sitting around coding' is a good use of time. The class probably needs to be 4 credit hours -- 3 for lecture, and 1 for lab, like the computer science classes do."

- Good one-offs
  - "Maybe show more examples in class and use visualization where possible."
  - "One idea I might have is maybe having a discussion board on Canvas where we can post questions about upcoming readings before we go over them in class in addition to the exit tickets."
  - "I would appreciate a slightly more defined set of instructions and expectations for our assignments."


## 2025-09-30

1:00-1:15 Recap Course Eval #1

1:15-1:30 Discuss Assignment #1

1:30-1:55 Lecture (regression to the mean)
- More inviting questions than lecture
- Incentivize questions with Hanabi rules

1:55-2:10 Exercises from lecture notes

2:10-2:15 Exit ticket (8724)

Reflections
- I tried to give a brief overview of how the posterior distribution is derived, but it wasn't a good idea
  - It was too complicated to describe within my time constraints

Subjective Rating 3/5

Student Interest      4.20/5
Student Understanding 3.65/5

## 2025-10-02

1:00-1:05 Ask students to start lme4 installation for R tutorial

1:05-1:15 Review questions from last exit ticket
- If you could take a second at the start of class to repeat what each variable represents, that would be helpful. The examples at the end are great. Thank you.
- I'm still having trouble understanding what each variable means within the Posterior Distribution equation. How do I know which number is which?
- I'm just still a little unclear on how the formulas were generated and what each variable represents.
- I think I'd like to see more concrete examples of what every value represents in a real context. I'm a little cloudy on what constitutes the difference between mu and mu0, sigma2 and sigma20 etc.
- I'm still a little unclear about applying this to real-world data, but the word problem at the end helped and I'm sure Thursday's R tutorial will clear things up.

1:15-1:20 Introduce R tutorial (preview first few exercises)

1:30 Post solution to Exercise #1

1:35-1:40 Discuss Exercise #2

1:50 Post solution to Exercise #3

2:00 Post solution to Exercise #4

2:10-2:15 Exit ticket (2001)

Reflections
- Previewing the first few exercises was well received
- This one seemed to run really smoothly
  - The student feedback on this R tutorial was very positive
- I thought the discussions were good

Subjective Rating 5/5

Student Interest      4.90/5
Student Understanding 4.45/5


# 2025-10-07

1:00-1:20 Review questions from last exit ticket

1:20-1:35 Discussion

1:35-2:10 "Lecture" on regularized regression

2:10-2:15 Exit ticket (7880)

Reflections
- This was one of those classes where I didn't have enough prep time and had to do my best on the fly.
- This time it worked out fairly well, considering the insufficient prep time.
- I discussed questions from the last exit ticket for 20 minutes, which I think was too long.

Subjective Rating 4/5

Student Interest      4.26/5
Student Understanding 3.47/5

Helpful feedback:
- The material today was a bit abstract, it would be nice to not immediately go into some of the discussion questions without discussing the models first.

## 2025-10-09

1:00-1:10 Discuss questions from exit ticket

1:10-1:20 Preview R Tutorial

1:20-1:50 Students work on R Tutorial
- 1:30 Post Solution #2
- 1:40 Post Solution #3
- 1:50 Post Solution #4

1:50-2:00 Review R Tutorial

2:00-2:10 Preview Assignment #2

2:10-2:15 Exit ticket (5026)

Reflections
- As it currently stands, this R tutorial is too simple (students finished early)
- Today I didn't have enough prep time before class

Subjective Rating 2/5

Student Interest      4.68/5
Student Understanding 4.37/5

## 2025-10-16

- I understand that the penalty is there to shrink the beta values and have the same effect as the regression to the mean but can you describe how that actually happens. What actually does this penalty do to affect the Betas? Is it because of the least squares that the betas will get minimized?

- Can you reiterate as to why the ridge regression model is essentially the standard practice for estimation of player strength in basketball? In other words, what factors contribute to why the model is so effective for basketball and are these factors also applicable for other sports?

- are the beta values the same in the ridge regression as the LMER? if not, are they related, or derived completely separately?

- How do you find the value of lamda? And can you explain exactly why Adjusted Plus-Minus is not a proper model to use, while RAPM is much better?



- I'm still confused about what the ranef numbers truly represent. Is it just the randomness?

- I would love a quick summary of how the LMM model connects to / builds upon regression to the mean and how exactly to interpret those results?

- I'm still confused on the transition of the models between only using batter and then involving batter and pitcher. Also still confused on what the graph iis showing at the end of the tutorial

- when I do the glmer model, what is the real world meaning for the beta, how to explain the result exp(beta)/1+exp(beta)

- We did random intercepts -- could we talk briefly about what random slopes would look like?¬†
